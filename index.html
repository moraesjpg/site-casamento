<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>J√∫lia e Ruan</title>

  <link rel="stylesheet" href="style.css" />

  <!-- Preconnect (melhora carregamento das fontes) -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

  <!-- Fontes -->
  <link
    href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Cormorant+Garamond:wght@400;500&family=Playfair+Display:wght@400;500&family=Lato:wght@300;400&display=swap"
    rel="stylesheet"
  />
</head>

<body>
  <!-- CART√ÉO DO CONVITE -->
  <div class="pagina">
    <!-- CANTOS DECORATIVOS -->
    <img class="canto canto-sup-esq" src="imagens/canto-sup-e.png" alt="" />
    <img class="canto canto-sup-dir" src="imagens/canto-sup-d.png" alt="" />
    <img class="canto canto-inf-esq" src="imagens/canto-inf-e.png" alt="" />
    <img class="canto canto-inf-dir" src="imagens/canto-inf-d.png" alt="" />

    <!-- TOPO / MONOGRAMA -->
    <header class="topo-floral">
      <img
        class="monograma-img"
        src="imagens/monograma.png"
        alt="Monograma J√∫lia e Ruan"
      />
    </header>

    <main class="convite">
      <h1>J√∫lia e Ruan</h1>

      <p class="subtitulo">
        Juntamente com seus pais, convidam para o seu casamento
      </p>

      <p class="data">23 de Maio de 2026 ‚Ä¢ 19h</p>

      <p class="local">
        Igreja Casa do P√£o<br />
        Av. Durval Alves de Faria, 2167 - Olhos D'√°gua Tropical ‚Ä¢ Contagem MG
      </p>

      <p class="vers√≠culo">
        <span class="texto-versiculo">
          "Para que todos vejam, e saibam, e considerem, e juntamente entendam que a m√£o
          do Senhor fez isto, e o Santo de Israel o criou."
        </span>
        <span class="referencia">Isa√≠as 41:20</span>
      </p>

      <!-- CONTAGEM -->
      <section class="countdown">
        <div class="timer" id="timer">
          <div><span id="days">0</span><small>Dias</small></div>
          <div><span id="hours">0</span><small>Horas</small></div>
          <div><span id="minutes">0</span><small>Min</small></div>
          <div><span id="seconds">0</span><small>Seg</small></div>
        </div>
      </section>

      <!-- RSVP -->
      <section class="rsvp">
        <!-- üå∏ NOVA FLOR DO RSVP -->
        <img
          src="imagens/flor-rsvp.png"
          alt="Flor decorativa"
          class="flor-rsvp"
        />

        <h2>Confirme sua presen√ßa</h2>

        <form id="rsvpForm">
          <input
            type="text"
            name="nome"
            placeholder="Nome completo *"
            required
            autocomplete="off"
          />

          <p>Voc√™ ir√° ao evento?</p>
          <label><input type="radio" name="presenca" value="sim" required /> Sim</label>
          <label><input type="radio" name="presenca" value="nao" /> N√£o</label>

          <input
            type="tel"
            name="telefone"
            placeholder="Telefone *"
            required
            autocomplete="off"
          />

          <input
            type="email"
            name="email"
            placeholder="E-mail *"
            required
            autocomplete="off"
          />

          <div id="acompanhantesContainer" style="display:none; margin-top:1em;">
            <label>Quantos acompanhantes?</label>
            <button type="button" id="menos">‚àí</button>
            <input
              type="number"
              id="qtdAcompanhantes"
              value="0"
              min="0"
              max="10"
              readonly
            />
            <button type="button" id="mais">+</button>

            <div id="camposAcompanhantes"></div>
          </div>

          <button type="submit" style="margin-top:1em;">
            Confirmar
          </button>
        </form>
      </section>
    </main>

    <footer>Com amor, J√∫lia e Ruan</footer>
  </div>

  <!-- SCRIPT RSVP -->
  <script>
    const SCRIPT_URL =
      "https://script.google.com/macros/s/AKfycbzuLhjZddnopm-bQtfKcW9mTlcix6tq94dtzxf-mt8DpTKqeTEVv-peDvB1KbrF68o-rw/exec";

    const presencaRadios = document.querySelectorAll('input[name="presenca"]');
    const acompanhantesContainer = document.getElementById('acompanhantesContainer');
    const menosBtn = document.getElementById('menos');
    const maisBtn = document.getElementById('mais');
    const qtdAcompanhantesInput = document.getElementById('qtdAcompanhantes');
    const camposAcompanhantes = document.getElementById('camposAcompanhantes');

    presencaRadios.forEach((radio) => {
      radio.addEventListener('change', () => {
        acompanhantesContainer.style.display =
          radio.value === 'sim' && radio.checked ? 'block' : 'none';

        if (radio.value !== 'sim') {
          qtdAcompanhantesInput.value = 0;
          camposAcompanhantes.innerHTML = '';
        }
      });
    });

    maisBtn.addEventListener('click', () => {
      let count = Number(qtdAcompanhantesInput.value);
      if (count < 10) {
        count++;
        qtdAcompanhantesInput.value = count;

        const div = document.createElement('div');
        div.id = `acompanhante-${count}`;
        div.innerHTML = `
          <input
            type="text"
            name="acompanhante${count}"
            placeholder="Nome do acompanhante *"
            required
          />
        `;
        camposAcompanhantes.appendChild(div);
      }
    });

    menosBtn.addEventListener('click', () => {
      let count = Number(qtdAcompanhantesInput.value);
      if (count > 0) {
        document.getElementById(`acompanhante-${count}`)?.remove();
        qtdAcompanhantesInput.value = count - 1;
      }
    });

    document.getElementById('rsvpForm').addEventListener('submit', async function (e) {
      e.preventDefault();

      const formData = new FormData(this);
      const payload = Object.fromEntries(formData.entries());
      payload.qtdAcompanhantes = qtdAcompanhantesInput.value;

      try {
        await fetch(SCRIPT_URL, {
          method: "POST",
          body: JSON.stringify(payload),
        });

        alert("Presen√ßa confirmada! ‚ù§Ô∏è");
        this.reset();
        acompanhantesContainer.style.display = "none";
        camposAcompanhantes.innerHTML = "";
        qtdAcompanhantesInput.value = 0;
      } catch (err) {
        alert("Erro ao enviar. Tente novamente.");
      }
    });
  </script>

  <script src="script.js" defer></script>
</body>
</html>
