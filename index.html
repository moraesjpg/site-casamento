<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>J√∫lia e Ruan</title>

  <link rel="stylesheet" href="./style.css" />

  <!-- Preconnect (melhora carregamento das fontes) -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

  <!-- Fontes -->
  <link
    href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Cormorant+Garamond:wght@400;500&family=Playfair+Display:wght@400;500&family=Lato:wght@300;400&display=swap"
    rel="stylesheet"
  />
</head>

<body>
  <div class="pagina">
    <!-- CANTOS DECORATIVOS (NOMES IGUAIS √Ä PASTA) -->
    <img class="canto canto-sup-esq" src="./imagens/Canto-sup-e.png" alt="" />
    <img class="canto canto-sup-dir" src="./imagens/Canto-sup-d.png" alt="" />
    <img class="canto canto-inf-esq" src="./imagens/Canto-inf-e.png" alt="" />
    <img class="canto canto-inf-dir" src="./imagens/Canto-inf-d.png" alt="" />

    <!-- TOPO / MONOGRAMA -->
    <header class="topo-floral">
      <img class="monograma-img" src="./imagens/Monograma.png" alt="Monograma J√∫lia e Ruan" />
    </header>

    <main class="convite">
      <h1>J√∫lia e Ruan</h1>

      <p class="subtitulo">Juntamente com seus pais, convidam para o seu casamento</p>
      <p class="data">23 de Maio de 2026 ‚Ä¢ 19h</p>

      <p class="local">
        Igreja Casa do P√£o<br />
        Av. Durval Alves de Faria, 2167 - Tropical ‚Ä¢ Contagem MG
      </p>

      <p class="vers√≠culo">
        <span class="texto-versiculo">
          "Para que todos vejam, e saibam, e considerem, e juntamente entendam que a m√£o
          do Senhor fez isto, e o Santo de Israel o criou."
        </span>
        <span class="referencia">Isa√≠as 41:20</span>
      </p>

      <!-- CONTAGEM -->
      <section class="countdown">
        <div class="timer" id="timer">
          <div><span id="days">0</span><small>Dias</small></div>
          <div><span id="hours">0</span><small>Horas</small></div>
          <div><span id="minutes">0</span><small>Min</small></div>
          <div><span id="seconds">0</span><small>Seg</small></div>
        </div>
      </section>
<!-- MAPA - CERIM√îNIA -->
    <section class="mapa">
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3751.0802589337513!2d-44.120312224886455!3d-19.921022438028857!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xa6eb13958d9c33%3A0x1ee632c261d349fb!2sComunidade%20Crist%C3%A3%20Casa%20do%20P%C3%A3o!5e0!3m2!1spt-BR!2sbr!4v1766849687881!5m2!1spt-BR!2sbr"
        width="100%"
        height="300"
        style="border:0;"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade">
      </iframe>
      <a 
        href="https://www.google.com/maps/dir/?api=1&destination=Comunidade+Crist√£+Casa+do+P√£o,+Av.+Durval+Alves+de+Faria,+2167+-+Olhos+Dagua+Tropical,+Contagem+-+MG,+32070-040"
        target="_blank"
        class="btn-mapa">
        üìç Como chegar √† Comunidade Crist√£ Casa do P√£o
      </a>
    </section>

      <!-- RSVP -->
      <section class="rsvp">
        <img class="flor-rsvp" src="./imagens/Flor1.png" alt="Flor decorativa" />
        <h2>Confirme sua presen√ßa</h2>

        <form id="rsvpForm">
          <input type="text" name="nome" placeholder="Nome completo *" required autocomplete="off" />

          <p>Voc√™ ir√° ao evento?</p>
          <label><input type="radio" name="presenca" value="sim" required /> Sim</label>
          <label><input type="radio" name="presenca" value="nao" /> N√£o</label>

          <input type="tel" name="telefone" placeholder="Telefone *" required autocomplete="off" />
          <input type="email" name="email" placeholder="E-mail *" required autocomplete="off" />

          <div id="acompanhantesContainer" style="display:none; margin-top:1em;">
            <label>Quantos acompanhantes?</label>
            <button type="button" id="menos">‚àí</button>
            <input type="number" id="qtdAcompanhantes" value="0" min="0" max="10" readonly />
            <button type="button" id="mais">+</button>
            <div id="camposAcompanhantes"></div>
          </div>

          <button type="submit" style="margin-top:1em;">Confirmar</button>
        </form>
      </section>
    </main>

    <footer>Com amor, J√∫lia e Ruan</footer>
  </div>

  <!-- SCRIPT RSVP -->
  <script>
    const SCRIPT_URL =
      "https://script.google.com/macros/s/AKfycbzuLhjZddnopm-bQtfKcW9mTlcix6tq94dtzxf-mt8DpTKqeTEVv-peDvB1KbrF68o-rw/exec";

    const presencaRadios = document.querySelectorAll('input[name="presenca"]');
    const acompanhantesContainer = document.getElementById('acompanhantesContainer');
    const menosBtn = document.getElementById('menos');
    const maisBtn = document.getElementById('mais');
    const qtdAcompanhantesInput = document.getElementById('qtdAcompanhantes');
    const camposAcompanhantes = document.getElementById('camposAcompanhantes');

    presencaRadios.forEach((radio) => {
      radio.addEventListener('change', () => {
        acompanhantesContainer.style.display =
          radio.value === 'sim' && radio.checked ? 'block' : 'none';

        if (radio.value !== 'sim') {
          qtdAcompanhantesInput.value = 0;
          camposAcompanhantes.innerHTML = '';
        }
      });
    });

    maisBtn.addEventListener('click', () => {
      let count = Number(qtdAcompanhantesInput.value);
      if (count < 10) {
        count++;
        qtdAcompanhantesInput.value = count;

        const div = document.createElement('div');
        div.id = `acompanhante-${count}`;
        div.innerHTML = `
          <input type="text" name="acompanhante${count}" placeholder="Nome do acompanhante *" required />
        `;
        camposAcompanhantes.appendChild(div);
      }
    });

    menosBtn.addEventListener('click', () => {
      let count = Number(qtdAcompanhantesInput.value);
      if (count > 0) {
        document.getElementById(`acompanhante-${count}`)?.remove();
        qtdAcompanhantesInput.value = count - 1;
      }
    });

    document.getElementById('rsvpForm').addEventListener('submit', async function (e) {
      e.preventDefault();

      const formData = new FormData(this);
      const payload = Object.fromEntries(formData.entries());
      payload.qtdAcompanhantes = qtdAcompanhantesInput.value;

      try {
        await fetch(SCRIPT_URL, {
          method: "POST",
          body: JSON.stringify(payload),
        });

        alert("Presen√ßa confirmada! ‚ù§Ô∏è");
        this.reset();
        acompanhantesContainer.style.display = "none";
        camposAcompanhantes.innerHTML = "";
        qtdAcompanhantesInput.value = 0;
      } catch (err) {
        alert("Erro ao enviar. Tente novamente.");
      }
    });
  </script>

  <script src="./script.js" defer></script>
</body>
</html>
